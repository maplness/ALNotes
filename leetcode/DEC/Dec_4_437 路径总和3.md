# 路径总和3

``` c++

class Solution {
public:
    unordered_map<int, int> m;
    int sum, res = 0;
public:
    void dfs(TreeNode* root, int cur_sum)
    {
        if (root == nullptr) return;
        if(m.count(cur_sum - sum))
            res += m[cur_sum - sum];
        m[cur_sum] ++;
        if(root->left)  dfs(root->left, cur_sum + root->left->val);
        if(root->right) dfs(root->right, cur_sum + root->right->val);
        m[cur_sum] --;
    }
    int pathSum(TreeNode* root, int sum) {
        if(root == nullptr) return 0;
        this->sum = sum;
        // 构建前缀和
        m[0] = 1;
        dfs(root, root->val);
        return res;
    }
};

```

前缀和， 大概意思是构造一个哈希表，记录每种前缀和的路径数